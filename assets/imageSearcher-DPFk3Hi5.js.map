{"version":3,"file":"imageSearcher-DPFk3Hi5.js","sources":["../../src/imageSearcher.js"],"sourcesContent":["import iziToast from \"izitoast\";\r\nimport \"izitoast/dist/css/iziToast.min.css\";\r\nimport SimpleLightbox from 'simplelightbox';\r\nimport 'simplelightbox/dist/simple-lightbox.min.css';\r\nimport axios from 'axios';\r\nconst gallery = document.querySelector(\".gallery\");\r\nconst form = document.querySelector(\".search-form\");\r\nconst loader = document.querySelector(\".loader\")\r\nconst input = document.querySelector(\"input[name='searchQuery']\");\r\nconst lmbtn = document.querySelector(\".lmbtn\")\r\nlet lightbox = null;\r\nform.addEventListener(\"submit\", (event) => {\r\n    event.preventDefault()\r\n    const userInput = input.value\r\n    userSearch(userInput)\r\n} )\r\n\r\nwindow.rejectAlert = function(message) {\r\n  iziToast.show({\r\n    message: message,\r\n    position: 'topRight',\r\n    messageColor: \"#ffffff\",\r\n    backgroundColor: \"#d15858\",\r\n  });\r\n}\r\n  const apiKey = \"50495832-52e00f4195b6d2cb1ef4fba52\"\r\n  axios.defaults.headers.common[\"header-name\"] = apiKey\r\n  const client = axios.create({\r\n        baseURL: \"https://pixabay.com/api/\",\r\n    });\r\n\r\nconst userSearch = async (userInput) => {\r\n  gallery.innerHTML = \"\";\r\n  const trimmedInput = userInput.trim();\r\n\r\n  if (trimmedInput === \"\") {\r\n    return rejectAlert(\"Sorry, there are no images matching your search query. Please try again!\");\r\n  }\r\n\r\n  loader.style.display = 'block';\r\n\r\n  try {\r\n    const response = await client.get(\"\", {\r\n      params: {\r\n        key: apiKey,\r\n        q: trimmedInput,\r\n        image_type: \"photo\",\r\n        orientation: \"horizontal\",\r\n        safesearch: true,\r\n        per_page: 3,\r\n      }\r\n    });\r\n\r\n    loader.style.display = 'none';\r\n\r\n    const images = response.data.hits;\r\n\r\n    if (images.length === 0) {\r\n      return rejectAlert(\"Sorry, there are no images matching your search query. Please try again!\");\r\n    }\r\n\r\n    renderGallery(images);\r\n    lmbtn.classList.remove(\"visualy-hidden\");\r\n\r\n  } catch (error) {\r\n    loader.style.display = 'none';\r\n    console.error(error);\r\n    return rejectAlert(\"Something went wrong. Please try again later.\");\r\n  }\r\n};\r\n// const createGallery = (res) => {\r\n//   const imgs = images.map(renderImage);\r\n//   container.append(...imgs);\r\n// };\r\nconst renderImage = (image) => {\r\n    const { webformatURL, largeImageURL, tags, likes, views, comments, downloads } = image;\r\n  const li = document.createElement('li');\r\n  li.classList.add('gallery-item');\r\n\r\n  const link = document.createElement('a');\r\n  link.classList.add('gallery-link');\r\n  link.href = largeImageURL;\r\n\r\n  const img = document.createElement('img');\r\n  img.classList.add('gallery-image');\r\n  img.src = webformatURL;\r\n  img.alt = tags.split(',')[0];\r\n\r\n    const statsBox = document.createElement('div');\r\n    statsBox.classList.add(\"imageStats\")\r\n\r\n    const likesBox = document.createElement('div');\r\n    likesBox.classList.add(\"stat-box\");\r\n\r\n    const likesTitle = document.createElement('span');\r\n    likesTitle.classList.add(\"stat-name\");\r\n    likesTitle.textContent = \"Likes\"\r\n\r\n    const likesNum = document.createElement('span')\r\n    likesNum.classList.add(\"stat-amount\")\r\n    likesNum.textContent = likes\r\n\r\n        const viewsBox = document.createElement('div');\r\n    viewsBox.classList.add(\"stat-box\");\r\n\r\n    const viewsTitle = document.createElement('span');\r\n    viewsTitle.classList.add(\"stat-name\");\r\n    viewsTitle.textContent = \"Views\"\r\n\r\n    const viewsNum = document.createElement('span')\r\n    viewsNum.classList.add(\"stat-amount\")\r\n    viewsNum.textContent = views\r\n\r\n        const commentsBox = document.createElement('div');\r\n    commentsBox.classList.add(\"stat-box\");\r\n\r\n    const commentsTitle = document.createElement('span');\r\n    commentsTitle.classList.add(\"stat-name\");\r\n    commentsTitle.textContent = \"Comments\"\r\n\r\n    const commentsNum = document.createElement('span')\r\n    commentsNum.classList.add(\"stat-amount\")\r\n    commentsNum.textContent = comments\r\n\r\n        const downloadsBox = document.createElement('div');\r\n    downloadsBox.classList.add(\"stat-box\");\r\n\r\n    const downloadsTitle = document.createElement('span');\r\n    downloadsTitle.classList.add(\"stat-name\");\r\n    downloadsTitle.textContent = \"Downloads\"\r\n\r\n    const downloadsNum = document.createElement('span')\r\n    downloadsNum.classList.add(\"stat-amount\")\r\n    downloadsNum.textContent = downloads\r\n  \r\n    likesBox.append(likesTitle, likesNum); \r\n    statsBox.appendChild(likesBox);\r\n\r\n    viewsBox.append(viewsTitle, viewsNum); \r\n    statsBox.appendChild(viewsBox);\r\n\r\n    commentsBox.append(commentsTitle, commentsNum); \r\n    statsBox.appendChild(commentsBox);\r\n\r\n    downloadsBox.append(downloadsTitle, downloadsNum); \r\n    statsBox.appendChild(downloadsBox);\r\n\r\n\r\n    link.appendChild(img);\r\n    li.append(link, statsBox);\r\n\r\n    return li;\r\n};\r\n\r\nconst renderGallery = (images) => {\r\n  const items = images.map(renderImage); \r\n  gallery.append(...items);\r\n\r\n  if (lightbox) {\r\n    lightbox.refresh();\r\n  } else {\r\n    lightbox = new SimpleLightbox('.gallery a', {\r\n      captionsData: 'alt',\r\n      captionDelay: 250,\r\n    });\r\n  }\r\n};"],"names":["gallery","form","loader","input","lmbtn","lightbox","event","userInput","userSearch","message","iziToast","apiKey","axios","client","trimmedInput","response","images","renderGallery","error","renderImage","image","webformatURL","largeImageURL","tags","likes","views","comments","downloads","li","link","img","statsBox","likesBox","likesTitle","likesNum","viewsBox","viewsTitle","viewsNum","commentsBox","commentsTitle","commentsNum","downloadsBox","downloadsTitle","downloadsNum","items","SimpleLightbox"],"mappings":"uDAKA,MAAMA,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAQ,SAAS,cAAc,2BAA2B,EAC1DC,EAAQ,SAAS,cAAc,QAAQ,EAC7C,IAAIC,EAAW,KACfJ,EAAK,iBAAiB,SAAWK,GAAU,CACvCA,EAAM,eAAgB,EACtB,MAAMC,EAAYJ,EAAM,MACxBK,EAAWD,CAAS,CACxB,CAAG,EAEH,OAAO,YAAc,SAASE,EAAS,CACrCC,EAAS,KAAK,CACZ,QAASD,EACT,SAAU,WACV,aAAc,UACd,gBAAiB,SACrB,CAAG,CACH,EACE,MAAME,EAAS,qCACfC,EAAM,SAAS,QAAQ,OAAO,aAAa,EAAID,EAC/C,MAAME,EAASD,EAAM,OAAO,CACtB,QAAS,0BACjB,CAAK,EAECJ,EAAa,MAAOD,GAAc,CACtCP,EAAQ,UAAY,GACpB,MAAMc,EAAeP,EAAU,OAE/B,GAAIO,IAAiB,GACnB,OAAO,YAAY,0EAA0E,EAG/FZ,EAAO,MAAM,QAAU,QAEvB,GAAI,CACF,MAAMa,EAAW,MAAMF,EAAO,IAAI,GAAI,CACpC,OAAQ,CACN,IAAKF,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,CACX,CACP,CAAK,EAEDZ,EAAO,MAAM,QAAU,OAEvB,MAAMc,EAASD,EAAS,KAAK,KAE7B,GAAIC,EAAO,SAAW,EACpB,OAAO,YAAY,0EAA0E,EAG/FC,EAAcD,CAAM,EACpBZ,EAAM,UAAU,OAAO,gBAAgB,CAExC,OAAQc,EAAO,CACd,OAAAhB,EAAO,MAAM,QAAU,OACvB,QAAQ,MAAMgB,CAAK,EACZ,YAAY,+CAA+C,CACnE,CACH,EAKMC,EAAeC,GAAU,CAC3B,KAAM,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EAAGP,EAC7EQ,EAAK,SAAS,cAAc,IAAI,EACtCA,EAAG,UAAU,IAAI,cAAc,EAE/B,MAAMC,EAAO,SAAS,cAAc,GAAG,EACvCA,EAAK,UAAU,IAAI,cAAc,EACjCA,EAAK,KAAOP,EAEZ,MAAMQ,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,UAAU,IAAI,eAAe,EACjCA,EAAI,IAAMT,EACVS,EAAI,IAAMP,EAAK,MAAM,GAAG,EAAE,CAAC,EAEzB,MAAMQ,EAAW,SAAS,cAAc,KAAK,EAC7CA,EAAS,UAAU,IAAI,YAAY,EAEnC,MAAMC,EAAW,SAAS,cAAc,KAAK,EAC7CA,EAAS,UAAU,IAAI,UAAU,EAEjC,MAAMC,EAAa,SAAS,cAAc,MAAM,EAChDA,EAAW,UAAU,IAAI,WAAW,EACpCA,EAAW,YAAc,QAEzB,MAAMC,EAAW,SAAS,cAAc,MAAM,EAC9CA,EAAS,UAAU,IAAI,aAAa,EACpCA,EAAS,YAAcV,EAEnB,MAAMW,EAAW,SAAS,cAAc,KAAK,EACjDA,EAAS,UAAU,IAAI,UAAU,EAEjC,MAAMC,EAAa,SAAS,cAAc,MAAM,EAChDA,EAAW,UAAU,IAAI,WAAW,EACpCA,EAAW,YAAc,QAEzB,MAAMC,EAAW,SAAS,cAAc,MAAM,EAC9CA,EAAS,UAAU,IAAI,aAAa,EACpCA,EAAS,YAAcZ,EAEnB,MAAMa,EAAc,SAAS,cAAc,KAAK,EACpDA,EAAY,UAAU,IAAI,UAAU,EAEpC,MAAMC,EAAgB,SAAS,cAAc,MAAM,EACnDA,EAAc,UAAU,IAAI,WAAW,EACvCA,EAAc,YAAc,WAE5B,MAAMC,EAAc,SAAS,cAAc,MAAM,EACjDA,EAAY,UAAU,IAAI,aAAa,EACvCA,EAAY,YAAcd,EAEtB,MAAMe,EAAe,SAAS,cAAc,KAAK,EACrDA,EAAa,UAAU,IAAI,UAAU,EAErC,MAAMC,EAAiB,SAAS,cAAc,MAAM,EACpDA,EAAe,UAAU,IAAI,WAAW,EACxCA,EAAe,YAAc,YAE7B,MAAMC,EAAe,SAAS,cAAc,MAAM,EAClD,OAAAA,EAAa,UAAU,IAAI,aAAa,EACxCA,EAAa,YAAchB,EAE3BK,EAAS,OAAOC,EAAYC,CAAQ,EACpCH,EAAS,YAAYC,CAAQ,EAE7BG,EAAS,OAAOC,EAAYC,CAAQ,EACpCN,EAAS,YAAYI,CAAQ,EAE7BG,EAAY,OAAOC,EAAeC,CAAW,EAC7CT,EAAS,YAAYO,CAAW,EAEhCG,EAAa,OAAOC,EAAgBC,CAAY,EAChDZ,EAAS,YAAYU,CAAY,EAGjCZ,EAAK,YAAYC,CAAG,EACpBF,EAAG,OAAOC,EAAME,CAAQ,EAEjBH,CACX,EAEMX,EAAiBD,GAAW,CAChC,MAAM4B,EAAQ5B,EAAO,IAAIG,CAAW,EACpCnB,EAAQ,OAAO,GAAG4C,CAAK,EAEnBvC,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAIwC,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,GACpB,CAAK,CAEL"}